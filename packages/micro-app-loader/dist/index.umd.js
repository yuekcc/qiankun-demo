!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("qiankun"),require("vue")):"function"==typeof define&&define.amd?define(["exports","qiankun","vue"],t):t((n||self).microAppLoader={},n.qiankun,n.vue)}(this,function(n,t,e){function r(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}var a=r(e);function i(){return(i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}var o=function(){function n(){this._started=!1,this._appList=[]}var e=n.prototype;return e.start=function(n){void 0===n&&(n=null),this._started||(n?t.start(n):t.start(),this._started=!0)},e._addApp=function(n){var t=n.name,e=this._appList.findIndex(function(n){return n.name===t});-1!==e?(this._appList.splice(e,1,n),console.warn("[QianKunHelper] updated app manifest, name is '"+t+"'")):this._appList.push(n)},e.addApp=function(){var n=this;[].slice.call(arguments).forEach(function(t){return n._addApp(t)})},e._findAppByName=function(n){return this._appList.find(function(t){return t.name===n})},e.getProps=function(n,t){return n.reduce(function(n,e){return n[e]=t[e],n},{})},e.findApp=function(n){return this._findAppByName(n)},e.loadApp=function(n,e,r){var a=i({},n,{container:e,props:this.getProps(n.propKeys||[],r)});return t.loadMicroApp(a)},n}(),p=new o;n.MicroAppLoader=o,n.makeAppComponentCreator=function(n,t){return function(e,r){void 0===r&&(r={autoRemove:!0});var i="app-container-"+e;return a.default.extend({data:function(){return{manifest:null,appInstance:null,errorMessage:""}},computed:{appName:function(){return this.manifest&&this.manifest.name||"unname"}},mounted:function(){console.log("MicroAppComponent mounted. containerId =",i);var r=n.findApp(e);if(r){var a=t();this.appInstance=n.loadApp(r,"#"+i,a)}else this.errorMessage="app not found, name = "+e},beforeDestroy:function(){var n;(null==(n=r.autoRemove)||n)&&this.appInstance&&"function"==typeof this.appInstance.unmount&&this.appInstance.unmount()},render:function(n){return n("div",""!==this.errorMessage?this.errorMessage:{attrs:{id:i,"data-app-name":this.appName}})}})}},n.microAppLoader=p});
//# sourceMappingURL=index.umd.js.map
